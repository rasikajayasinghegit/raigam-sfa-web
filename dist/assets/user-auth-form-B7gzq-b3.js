import{c as f,r as b,h as N,k as v,o as k,j as e,a as w,L as F,B as t,s as I,e as y,t as L,l as P}from"./index-DxIjBo7_.js";import{u as S,a as A,F as C,b as c,c as l,d as m,e as d,f as u}from"./form-D9XmoS7o.js";import{I as E}from"./icon-facebook-BXOY185G.js";import{I as U}from"./icon-github-D7xfMYdB.js";import{I as M}from"./input-BbqWAT5U.js";import{P as B}from"./password-input-DtVUfSSd.js";import{L as G}from"./loader-circle-DDtLatuQ.js";const H=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],_=f("log-in",H),D=k({email:y({error:o=>o.input===""?"Please enter your email":void 0}),password:I().min(1,"Please enter your password").min(7,"Password must be at least 7 characters long")});function J({className:o,redirectTo:p,...x}){const[a,n]=b.useState(!1),h=N(),{auth:i}=v(),r=S({resolver:A(D),defaultValues:{email:"",password:""}});function j(s){n(!0),L.promise(P(2e3),{loading:"Signing in...",success:()=>{n(!1);const g={accountNo:"ACC001",email:s.email,role:["user"],exp:Date.now()+1440*60*1e3};return i.setUser(g),i.setAccessToken("mock-access-token"),h({to:p||"/",replace:!0}),`Welcome back, ${s.email}!`},error:"Error"})}return e.jsx(C,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(j),className:w("grid gap-3",o),...x,children:[e.jsx(c,{control:r.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(m,{children:"Email"}),e.jsx(d,{children:e.jsx(M,{placeholder:"name@example.com",...s})}),e.jsx(u,{})]})}),e.jsx(c,{control:r.control,name:"password",render:({field:s})=>e.jsxs(l,{className:"relative",children:[e.jsx(m,{children:"Password"}),e.jsx(d,{children:e.jsx(B,{placeholder:"********",...s})}),e.jsx(u,{}),e.jsx(F,{to:"/forgot-password",className:"text-muted-foreground absolute end-0 -top-0.5 text-sm font-medium hover:opacity-75",children:"Forgot password?"})]})}),e.jsxs(t,{className:"mt-2",disabled:a,children:[a?e.jsx(G,{className:"animate-spin"}):e.jsx(_,{}),"Sign in"]}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background text-muted-foreground px-2",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(t,{variant:"outline",type:"button",disabled:a,children:[e.jsx(U,{className:"h-4 w-4"})," GitHub"]}),e.jsxs(t,{variant:"outline",type:"button",disabled:a,children:[e.jsx(E,{className:"h-4 w-4"})," Facebook"]})]})]})})}export{J as U};
