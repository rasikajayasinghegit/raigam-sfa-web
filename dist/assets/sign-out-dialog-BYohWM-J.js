import{a7 as F,a8 as V,r as i,n as _,j as d,a9 as E,a4 as D,a as L,h as K,k as U}from"./index-DxIjBo7_.js";import{a as B}from"./index-D-MbHJW-.js";import{b as A}from"./index-CTTV-Wu5.js";import{K as Y}from"./confirm-dialog-vB8jds70.js";function z(t){return F({select:e=>t?.select?t.select(e.location):e.location})}var H=V();const y="layout_collapsible",b="layout_variant",w=3600*24*7,x="inset",S="icon",N=i.createContext(null);function ct({children:t}){const[e,n]=i.useState(()=>_(y)||S),[r,s]=i.useState(()=>_(b)||x),a=l=>{n(l),E(y,l,w)},o=l=>{s(l),E(b,l,w)},c={resetLayout:()=>{a(S),o(x)},defaultCollapsible:S,collapsible:e,setCollapsible:a,defaultVariant:x,variant:r,setVariant:o};return d.jsx(N,{value:c,children:t})}function it(){const t=i.useContext(N);if(!t)throw new Error("useLayout must be used within a LayoutProvider");return t}function q(t,e=[]){let n=[];function r(a,o){const u=i.createContext(o);u.displayName=a+"Context";const c=n.length;n=[...n,o];const l=f=>{const{scope:p,children:g,...m}=f,T=p?.[t]?.[c]||u,$=i.useMemo(()=>m,Object.values(m));return d.jsx(T.Provider,{value:$,children:g})};l.displayName=a+"Provider";function v(f,p){const g=p?.[t]?.[c]||u,m=i.useContext(g);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[l,v]}const s=()=>{const a=n.map(o=>i.createContext(o));return function(u){const c=u?.[t]||a;return i.useMemo(()=>({[`__scope${t}`]:{...u,[t]:c}}),[u,c])}};return s.scopeName=t,[r,G(s,...e)]}function G(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((u,{useScope:c,scopeName:l})=>{const f=c(a)[`__scope${l}`];return{...u,...f}},{});return i.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C=W.reduce((t,e)=>{const n=D(`Primitive.${e}`),r=i.forwardRef((s,a)=>{const{asChild:o,...u}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function X(){return H.useSyncExternalStore(J,()=>!0,()=>!1)}function J(){return()=>{}}var h="Avatar",[Q]=q(h),[Z,P]=Q(h),j=i.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,a]=i.useState("idle");return d.jsx(Z,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:d.jsx(C.span,{...r,ref:e})})});j.displayName=h;var R="AvatarImage",O=i.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=t,o=P(R,n),u=tt(r,a),c=B(l=>{s(l),o.onImageLoadingStatusChange(l)});return A(()=>{u!=="idle"&&c(u)},[u,c]),u==="loaded"?d.jsx(C.img,{...a,ref:e,src:r}):null});O.displayName=R;var k="AvatarFallback",M=i.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,a=P(k,n),[o,u]=i.useState(r===void 0);return i.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?d.jsx(C.span,{...s,ref:e}):null});M.displayName=k;function I(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tt(t,{referrerPolicy:e,crossOrigin:n}){const r=X(),s=i.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[o,u]=i.useState(()=>I(a,t));return A(()=>{u(I(a,t))},[a,t]),A(()=>{const c=f=>()=>{u(f)};if(!a)return;const l=c("loaded"),v=c("error");return a.addEventListener("load",l),a.addEventListener("error",v),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",l),a.removeEventListener("error",v)}},[a,n,e]),o}var et=j,at=O,nt=M;function lt({className:t,...e}){return d.jsx(et,{"data-slot":"avatar",className:L("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function dt({className:t,...e}){return d.jsx(at,{"data-slot":"avatar-image",className:L("aspect-square size-full",t),...e})}function ft({className:t,...e}){return d.jsx(nt,{"data-slot":"avatar-fallback",className:L("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function vt({open:t,onOpenChange:e}){const n=K(),r=z(),{auth:s}=U(),a=()=>{s.reset();const o=r.href;n({to:"/sign-in",search:{redirect:o},replace:!0})};return d.jsx(Y,{open:t,onOpenChange:e,title:"Sign out",desc:"Are you sure you want to sign out? You will need to sign in again to access your account.",confirmText:"Sign out",destructive:!0,handleConfirm:a,className:"sm:max-w-sm"})}export{lt as A,ct as L,vt as S,dt as a,ft as b,it as c,z as u};
